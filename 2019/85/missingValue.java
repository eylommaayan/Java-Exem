

public class missingValue {
    

    public static int missingValue(int[] arr) {
        // קובע את גודל המערך
        int size = arr.length;
    
        // מחשב את ההפרש המשותף (common difference) של סדרה חשבונית
        // ההפרש מחושב על ידי חיסור הערך הראשון מהאחרון וחלוקה במספר האיברים
        int commonDiff = (arr[size - 1] - arr[0]) / size;
    
        // מגדיר את גבולות החיפוש - משתנים לייצוג התחלה וסוף החיפוש
        int left = 0;
        int right = size - 1;
    
        // לולאת חיפוש בינארי - ממשיכה כל עוד הגבול השמאלי קטן או שווה לגבול הימני
        while (left <= right) {
            // מחשב את אמצע המערך - המקום שבו בודקים את הערך הנוכחי
            int mid = (left + right) / 2;
    
            // אם הערך באמצע הוא שווה לערך הצפוי באותו מיקום (בהתאם להפרש המשותף)
            if (arr[mid] == arr[0] + mid * commonDiff) {
                // משמע שהחלק השמאלי בסדר ולכן ממשיכים לחפש בחלק הימני
                left = mid + 1;
            } else {
                // אחרת, החלק הימני בסדר ולכן ממשיכים לחפש בחלק השמאלי
                right = mid - 1;
            }
        }
    
        // בסיום הלולאה, מחזירים את הערך המורכב מהערך הראשון בתוספת הכפלת מספר המיקומים בהפרש המשותף
        return arr[0] + left * commonDiff;
    }
    

}
